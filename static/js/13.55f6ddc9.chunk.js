(this.webpackJsonpsendchinatownlove=this.webpackJsonpsendchinatownlove||[]).push([[13,16],{111:function(t,n,e){"use strict";e.d(n,"v",(function(){return h})),e.d(n,"u",(function(){return b})),e.d(n,"x",(function(){return _})),e.d(n,"w",(function(){return v})),e.d(n,"D",(function(){return w})),e.d(n,"n",(function(){return y})),e.d(n,"f",(function(){return k})),e.d(n,"g",(function(){return O})),e.d(n,"i",(function(){return j})),e.d(n,"j",(function(){return x})),e.d(n,"d",(function(){return E})),e.d(n,"p",(function(){return B})),e.d(n,"q",(function(){return N})),e.d(n,"s",(function(){return F})),e.d(n,"h",(function(){return S})),e.d(n,"c",(function(){return D})),e.d(n,"B",(function(){return T})),e.d(n,"a",(function(){return C})),e.d(n,"C",(function(){return A})),e.d(n,"t",(function(){return I})),e.d(n,"r",(function(){return P})),e.d(n,"k",(function(){return z})),e.d(n,"A",(function(){return G})),e.d(n,"l",(function(){return M})),e.d(n,"e",(function(){return U})),e.d(n,"o",(function(){return H})),e.d(n,"y",(function(){return V})),e.d(n,"b",(function(){return J})),e.d(n,"m",(function(){return Q})),e.d(n,"z",(function(){return q}));var r=e(109),a=e.n(r),u=e(110),c=e(125),i=e.n(c),o=(e(126),"https://api.sendchinatownlove.com/"),s=o+"sellers/",l=o+"charges",f=o+"gift_cards/",p=o+"participating_sellers/",d=o+"contacts/",m=o+"sponsor_sellers/",h=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s,{params:{locale:g(n)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),b=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s+n,{params:{locale:g(e)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),_=function(){var t=Object(u.a)(a.a.mark((function t(n,e,r,c,o,s){var f,p,d,m;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f=c.email,p=c.name,d=c.idempotency_key,m=c.is_subscribed,t.next=5,i.a.post(l,{is_square:!0,nonce:n,line_items:r,email:f,name:p,seller_id:e,idempotency_key:d,is_subscribed:m,is_distribution:o,campaign_id:s},{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()).catch((function(t){throw t}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(n,e,r,a,u,c){return t.apply(this,arguments)}}(),v=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(f+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),w=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put(f+n,{amount:e}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),y=function(){var t=Object(u.a)(a.a.mark((function t(n,e){var r,u,c=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],u=r?"?filterGAM=true":"",t.abrupt("return",i.a.get(s+n+"/gift_cards/"+e+u).then((function(t){return t})));case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}();function g(t){switch(t){case"cn":return"zh-CN";case"en":default:return"en"}}var k=function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("https://api.sendchinatownlove.com/campaigns/").then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s+n+"/campaigns").then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),j=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("https://api.sendchinatownlove.com/distributors/"+n).then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),x=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("https://api.sendchinatownlove.com/nonprofits/"+n).then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),E=function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(p).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),B=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(p+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),N=function(){var t=Object(u.a)(a.a.mark((function t(n,e,r,u,c,o){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(p+n+"/tickets/"+e,{params:{page:r,items:u,printed:c,associated:o}}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r,a,u,c){return t.apply(this,arguments)}}(),F=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d,{params:{email:n}}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),S=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),D=function(){var t=Object(u.a)(a.a.mark((function t(n,e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},r=e?{email:n,instagram:e}:{email:n},t.abrupt("return",i.a.post(d,r).then((function(t){return t})).catch((function(t){return t})));case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),T=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put(d+n,{instagram:e}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),C=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("https://api.sendchinatownlove.com/tickets/"+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put("https://api.sendchinatownlove.com/tickets/"+n,{contact_id:e}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),I=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n+"/tickets").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),P=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("https://api.sendchinatownlove.com/participating_sellers/"+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),z=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),G=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.post(d+n+"/rewards").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),M=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("https://api.sendchinatownlove.com/locations/"+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),U=function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(m).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),H=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(m+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),V=function(){var t=Object(u.a)(a.a.mark((function t(n,e,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put(d+n+"/tickets/"+e,{tickets:r}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),J=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.post(d+n+"/lyft_rewards/").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),Q=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n+"/lyft_rewards/").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),q=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.post(d+n+"/lyft_rewards/"+e+"/redeem/").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()},137:function(t,n,e){t.exports=e.p+"static/media/404-error-image.f72ee016.png"},144:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return h}));var r=e(2),a=e(0),u=e.n(a),c=e(3),i=e(137),o=e.n(i);function s(){var t=Object(r.a)(["\n  font-weight: 450;\n  font-size: 1rem;\n  a {\n    color: #a7182d;\n  }\n"]);return s=function(){return t},t}function l(){var t=Object(r.a)(["\n  font-weight: 400;\n  margin: 0.2rem auto;\n"]);return l=function(){return t},t}function f(){var t=Object(r.a)(["\n  font-weight: 600;\n"]);return f=function(){return t},t}function p(){var t=Object(r.a)(["\n  margin: 0 auto;\n  width: 80%;\n  text-align: center;\n  display: ",";\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n"]);return p=function(){return t},t}function d(){var t=Object(r.a)(["\n  width: 80%;\n  max-width: 480px;\n  margin: 0 auto;\n"]);return d=function(){return t},t}function m(){var t=Object(r.a)(["\n  font-family: futura;\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"]);return m=function(){return t},t}var h=function(t){return u.a.createElement(b,null,u.a.createElement(v,{menuOpen:t.menuOpen},u.a.createElement(_,{src:o.a,alt:"error"}),u.a.createElement(w,null," Sorry Your Dumpling Was Not Found! "),u.a.createElement(y,null," ","The page you are trying does not exist or has been moved."),u.a.createElement(y,null,"Please try going back to the homepage."),u.a.createElement(g,null,u.a.createElement("a",{href:"https://sendchinatownlove.com/"},"GO TO HOMEPAGE"))))},b=c.a.main(m()),_=c.a.img(d()),v=c.a.div(p(),(function(t){return t.menuOpen?"none":"flex"})),w=c.a.div(f()),y=c.a.div(l()),g=c.a.div(s())},340:function(t,n,e){t.exports={"button--filled":"styles_button--filled__3g-mZ","button--red-filled":"styles_button--red-filled__2hfQJ","button--outlined":"styles_button--outlined__1u9dK","button--redfilled":"styles_button--redfilled__1v7Uq","button--red-outlined":"styles_button--red-outlined__dPBz_","modalButton--back":"styles_modalButton--back__3fUEz","modalButton--outlined":"styles_modalButton--outlined__32v29","modalButton--filled":"styles_modalButton--filled__UrmGO","modalButton--nonfunctional":"styles_modalButton--nonfunctional__22Qm-","modalButton--selected":"styles_modalButton--selected__1JgjQ","modalButton--outline":"styles_modalButton--outline__2dPxe","closeButton--close":"styles_closeButton--close__2HmZM","modalForm--form":"styles_modalForm--form__3yk9T","modalInput--input":"styles_modalInput--input__3ZDiJ","filterable-table-container":"styles_filterable-table-container__3Djf-","header-row":"styles_header-row__1GHCT","filter-container":"styles_filter-container__1DUSK","filter-input":"styles_filter-input__ir8Rf","clear-filter":"styles_clear-filter__2EGMJ","record-count":"styles_record-count__1zy20",table:"styles_table__3cZ9F",fa:"styles_fa__upKlt","table-email-header":"styles_table-email-header__nglnm","table-email-container":"styles_table-email-container__2ghpD",active:"styles_active__2qlTg",disabled:"styles_disabled__2Bs57",header:"styles_header__QrHY9",metadataHeader:"styles_metadataHeader__3_rTB",metadataBlock:"styles_metadataBlock__mvj0_",noBreak:"styles_noBreak__1Tp9O",gamToggle:"styles_gamToggle__323QK"}},365:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return _}));var r=e(109),a=e.n(r),u=e(110),c=e(11),i=e(0),o=e.n(i),s=e(5),l=e(111),f=e(37),p=e(340),d=e.n(p),m=e(144),h=e(359),b=e(341),_=function(){var t=Object(i.useState)(!1),n=Object(c.a)(t,2),e=n[0],r=n[1],p=Object(i.useState)(!0),_=Object(c.a)(p,2),v=_[0],w=_[1],y=Object(i.useState)(),g=Object(c.a)(y,2),k=g[0],O=g[1],j=Object(i.useState)(),x=Object(c.a)(j,2),E=x[0],B=x[1],N=Object(i.useState)(!1),F=Object(c.a)(N,2),S=F[0],D=F[1],T=Object(s.g)().location.pathname.match(/\/[^/]+/g).map((function(t){return t.replace("/","")})),C={sellerId:T[0],secretId:T[2]},A=function(){var t=Object(u.a)(a.a.mark((function t(){var n,e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(l.n)(C.sellerId,C.secretId,S);case 3:return n=t.sent.data,t.next=6,Object(l.u)(C.sellerId);case 6:e=t.sent.data,n=n.map((function(t){return t.updated_at===t.created_at&&(t.updated_at=null),t})),O(n),B(e),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),r(!0);case 15:w(!1);case 16:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(){return t.apply(this,arguments)}}();Object(i.useEffect)((function(){A()}),[S]);var I=function(t){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:4}).format(t.value/100)},P=function(t){return t.value?new Date(t.value).toISOString().substring(0,10):"N/A"},z=[{name:"seller_gift_card_id",displayName:"Voucher Code \n \u793c\u54c1\u5238\u53f7\u7801",inputFilterable:!0,sortable:!0},{name:"email",displayName:"Email \n \u7535\u5b50\u90ae\u4ef6",inputFilterable:!0,sortable:!0,thClassName:"table-email-header",tdClassName:"table-email-container"},{name:"original_value",displayName:"Original Amount \n \u8d2d\u4e70\u91d1\u989d",inputFilterable:!0,sortable:!0,render:I},{name:"created_at",displayName:"Date Purchased \n \u8d2d\u4e70\u65e5\u671f",inputFilterable:!0,sortable:!0,render:P},{name:"updated_at",displayName:"Date Last Used \n \u4e0a\u6b21\u4f7f\u7528\u65e5\u671f",inputFilterable:!0,sortable:!0,render:P},{name:"latest_value",displayName:"Ending Balance  \n \u7ed3\u4f59",inputFilterable:!0,sortable:!0,render:I}];return o.a.createElement(o.a.Fragment,null,v?o.a.createElement(f.b,{isPage:!0}):e?o.a.createElement(m.default,{menuOpen:!1}):o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:d.a.header},o.a.createElement("h1",null,"Voucher Tracker ",o.a.createElement("span",{className:d.a.noBreak},"\u793c\u54c1\u5238\u8bb0\u5f55")),o.a.createElement("h2",null,E.name)),o.a.createElement("div",{className:d.a.metadataHeader},o.a.createElement("div",{className:d.a.metadataBlock},o.a.createElement("h1",null,"Last Updated"," ",o.a.createElement("span",{className:d.a.noBreak},"\u4e0a\u6b21\u66f4\u65b0\u65f6\u95f4")),o.a.createElement("h2",null,P({value:new Date}))),o.a.createElement("div",{className:d.a.metadataBlock},o.a.createElement("h1",null,"Active Vouchers"," ",o.a.createElement("span",{className:d.a.noBreak},"\u53ef\u4f7f\u7528\u7684\u793c\u54c1\u5238\u6570\u91cf")),o.a.createElement("h2",null,k&&k.filter((function(t){return t.latest_value>0})).length)),o.a.createElement("div",{className:d.a.metadataBlock},o.a.createElement("h1",null,"Total Balance ",o.a.createElement("span",{className:d.a.noBreak},"\u603b\u7ed3\u4f59")),o.a.createElement("h2",null,I({value:k.reduce((function(t,n){return t+n.latest_value}),0)})))),o.a.createElement("div",null,o.a.createElement("div",{className:d.a.gamToggle},o.a.createElement(h.a,{value:"shouldFilterGAM",inputProps:{"aria-label":"FilterGAM Checkbox"},onClick:function(){return D(!S)},checked:S}),o.a.createElement("span",null,"hide gift-a-meal vouchers \u9690\u85cf\u7231\u5fc3\u9910\u9910\u5238")),o.a.createElement(b,{namespace:"Vouchers",initialSort:"seller_gift_card_id",data:k,fields:z,noRecordsMessage:"No vouchers in our system yet!",noFilteredRecordsMessage:"No vouchers found for filter",topPagerVisible:!1,pageSize:20,pageSizes:null,recordCountName:"Voucher Found",recordCountNamePlural:"Vouchers Found"}))))}}}]);
//# sourceMappingURL=13.55f6ddc9.chunk.js.map