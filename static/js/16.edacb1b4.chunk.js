(this.webpackJsonpsendchinatownlove=this.webpackJsonpsendchinatownlove||[]).push([[16,19],{111:function(t,n,e){"use strict";e.d(n,"x",(function(){return m})),e.d(n,"u",(function(){return b})),e.d(n,"w",(function(){return _})),e.d(n,"v",(function(){return v})),e.d(n,"z",(function(){return y})),e.d(n,"y",(function(){return w})),e.d(n,"F",(function(){return g})),e.d(n,"n",(function(){return x})),e.d(n,"f",(function(){return j})),e.d(n,"g",(function(){return k})),e.d(n,"i",(function(){return E})),e.d(n,"j",(function(){return N})),e.d(n,"d",(function(){return B})),e.d(n,"p",(function(){return S})),e.d(n,"q",(function(){return C})),e.d(n,"s",(function(){return D})),e.d(n,"h",(function(){return T})),e.d(n,"c",(function(){return Y})),e.d(n,"D",(function(){return V})),e.d(n,"a",(function(){return F})),e.d(n,"E",(function(){return A})),e.d(n,"t",(function(){return M})),e.d(n,"r",(function(){return z})),e.d(n,"k",(function(){return P})),e.d(n,"C",(function(){return I})),e.d(n,"l",(function(){return G})),e.d(n,"e",(function(){return J})),e.d(n,"o",(function(){return R})),e.d(n,"A",(function(){return U})),e.d(n,"b",(function(){return L})),e.d(n,"m",(function(){return W})),e.d(n,"B",(function(){return Z}));var r=e(109),a=e.n(r),u=e(110),c=e(122),i=e.n(c),o=(e(123),"https://api.sendchinatownlove.com/"),s=o+"sellers/",f=o+"charges",l=o+"gift_cards/",p=o+"participating_sellers/",d=o+"contacts/",h=o+"sponsor_sellers/",m=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s,{params:{locale:O(n)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),b=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s+n,{params:{locale:O(e)}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),_=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s+n+"/open_hour");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),v=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s+n+"/delivery_options");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),y=function(){var t=Object(u.a)(a.a.mark((function t(n,e,r,c,o,s){var l,p,d,h;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l=c.email,p=c.name,d=c.idempotency_key,h=c.is_subscribed,t.next=5,i.a.post(f,{is_square:!0,nonce:n,line_items:r,email:l,name:p,seller_id:e,idempotency_key:d,is_subscribed:h,is_distribution:o,campaign_id:s},{headers:{"Access-Control-Allow-Origin":"*"}}).then(function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",n);case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}()).catch((function(t){throw t}));case 5:return t.abrupt("return",t.sent);case 6:case"end":return t.stop()}}),t)})));return function(n,e,r,a,u,c){return t.apply(this,arguments)}}(),w=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(l+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),g=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put(l+n,{amount:e}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),x=function(){var t=Object(u.a)(a.a.mark((function t(n,e){var r,u,c=arguments;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],u=r?"?filterGAM=true":"",t.abrupt("return",i.a.get(s+n+"/gift_cards/"+e+u).then((function(t){return t})));case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}();function O(t){switch(t){case"cn":return"zh-CN";case"en":default:return"en"}}var j=function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("https://api.sendchinatownlove.com/campaigns/").then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get(s+n+"/campaigns").then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),E=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("https://api.sendchinatownlove.com/distributors/"+n).then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),N=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.a.get("https://api.sendchinatownlove.com/nonprofits/"+n).then((function(t){return t})).catch((function(t){return t}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),B=function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(p).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),S=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(p+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),C=function(){var t=Object(u.a)(a.a.mark((function t(n,e,r,u,c,o){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(p+n+"/tickets/"+e,{params:{page:r,items:u,printed:c,associated:o}}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r,a,u,c){return t.apply(this,arguments)}}(),D=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d,{params:{email:n}}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),T=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),Y=function(){var t=Object(u.a)(a.a.mark((function t(n,e){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r={},r=e?{email:n,instagram:e}:{email:n},t.abrupt("return",i.a.post(d,r).then((function(t){return t})).catch((function(t){return t})));case 3:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),V=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put(d+n,{instagram:e}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),F=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("https://api.sendchinatownlove.com/tickets/"+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),A=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put("https://api.sendchinatownlove.com/tickets/"+n,{contact_id:e}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}(),M=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n+"/tickets").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),z=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("https://api.sendchinatownlove.com/participating_sellers/"+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),P=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),I=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.post(d+n+"/rewards").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),G=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get("https://api.sendchinatownlove.com/locations/"+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),J=function(){var t=Object(u.a)(a.a.mark((function t(){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(h).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),R=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(h+n).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),U=function(){var t=Object(u.a)(a.a.mark((function t(n,e,r){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.put(d+n+"/tickets/"+e,{tickets:r}).then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e,r){return t.apply(this,arguments)}}(),L=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.post(d+n+"/lyft_rewards/").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),W=function(){var t=Object(u.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.get(d+n+"/lyft_rewards/").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}(),Z=function(){var t=Object(u.a)(a.a.mark((function t(n,e){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",i.a.post(d+n+"/lyft_rewards/"+e+"/redeem/").then((function(t){return t})).catch((function(t){return t})));case 1:case"end":return t.stop()}}),t)})));return function(n,e){return t.apply(this,arguments)}}()},127:function(t,n,e){t.exports=e.p+"static/media/404-error-image.f72ee016.png"},137:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return m}));var r=e(2),a=e(0),u=e.n(a),c=e(3),i=e(127),o=e.n(i);function s(){var t=Object(r.a)(["\n  font-weight: 450;\n  font-size: 1rem;\n  a {\n    color: #a7182d;\n  }\n"]);return s=function(){return t},t}function f(){var t=Object(r.a)(["\n  font-weight: 400;\n  margin: 0.2rem auto;\n"]);return f=function(){return t},t}function l(){var t=Object(r.a)(["\n  font-weight: 600;\n"]);return l=function(){return t},t}function p(){var t=Object(r.a)(["\n  margin: 0 auto;\n  width: 80%;\n  text-align: center;\n  display: ",";\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  flex: 1;\n"]);return p=function(){return t},t}function d(){var t=Object(r.a)(["\n  width: 80%;\n  max-width: 480px;\n  margin: 0 auto;\n"]);return d=function(){return t},t}function h(){var t=Object(r.a)(["\n  font-family: futura;\n  background-color: #ffffff;\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"]);return h=function(){return t},t}var m=function(t){return u.a.createElement(b,null,u.a.createElement(v,{menuOpen:t.menuOpen},u.a.createElement(_,{src:o.a,alt:"error"}),u.a.createElement(y,null," Sorry Your Dumpling Was Not Found! "),u.a.createElement(w,null," ","The page you are trying does not exist or has been moved."),u.a.createElement(w,null,"Please try going back to the homepage."),u.a.createElement(g,null,u.a.createElement("a",{href:"https://sendchinatownlove.com/"},"GO TO HOMEPAGE"))))},b=c.a.main(h()),_=c.a.img(d()),v=c.a.div(p(),(function(t){return t.menuOpen?"none":"flex"})),y=c.a.div(l()),w=c.a.div(f()),g=c.a.div(s())},354:function(t,n,e){t.exports={"button--filled":"styles_button--filled__UjlKj","button--red-filled":"styles_button--red-filled__3jIcl","button--outlined":"styles_button--outlined__1DefS","button--redfilled":"styles_button--redfilled__I__to","button--red-outlined":"styles_button--red-outlined__3Jcwb","modalButton--back":"styles_modalButton--back__2VZ6L","modalButton--outlined":"styles_modalButton--outlined__2BBPI","modalButton--filled":"styles_modalButton--filled__2-_cW","modalButton--nonfunctional":"styles_modalButton--nonfunctional__fcI9b","modalButton--selected":"styles_modalButton--selected__1gtfN","modalButton--outline":"styles_modalButton--outline__3EHZ6","closeButton--close":"styles_closeButton--close__EGxtL","modalForm--form":"styles_modalForm--form__NKNgE","modalInput--input":"styles_modalInput--input__1dv-5","filterable-table-container":"styles_filterable-table-container__p-WnK","header-row":"styles_header-row__11erb","filter-container":"styles_filter-container__23YpS","filter-input":"styles_filter-input__JZ4V6","clear-filter":"styles_clear-filter__2mBVy","record-count":"styles_record-count__18vV9",table:"styles_table__3mfrm",fa:"styles_fa__1Y1-1","table-email-header":"styles_table-email-header__2z0QZ","table-email-container":"styles_table-email-container__2cBLH",active:"styles_active__9vGzA",disabled:"styles_disabled__PPXR5",header:"styles_header__oHMUu",headerTitle:"styles_headerTitle__2ah15",headerSubtitle:"styles_headerSubtitle__7JJFl",actionButtons:"styles_actionButtons__RSWKW",refreshButton:"styles_refreshButton__2yF8X",refreshText:"styles_refreshText__2SDSS",stats:"styles_stats__2SGRe",statsTitle:"styles_statsTitle__1sxGY",statsSubtitle:"styles_statsSubtitle__2SIrZ",tableContainer:"styles_tableContainer__1Yjgj"}},380:function(t,n,e){"use strict";e.r(n),e.d(n,"default",(function(){return E}));var r=e(109),a=e.n(r),u=e(110),c=e(11),i=e(0),o=e.n(i),s=e(5),f=e(370),l=e(355),p=e.n(l),d=e(353),h=e.n(d),m=e(354),b=e.n(m),_=e(196),v=function(t){return Intl.NumberFormat("en-US",{style:"currency",currency:"USD",maximumSignificantDigits:4}).format(t/100)},y=function(t){return h()(t).format("YYYY-MM-DD")},w=function(t){var n=t.subtitle,e=t.title;return o.a.createElement("div",null,o.a.createElement("div",{className:b.a.statsTitle},e),o.a.createElement("div",{className:b.a.statsSubtitle},n))},g=function(t){var n=t.giftCards,e=[{name:"seller_gift_card_id",displayName:"Voucher Code\n\u793c\u54c1\u5238\u53f7\u7801",sortable:!0},{name:"email",displayName:"Email\n\u7535\u5b50\u90ae\u4ef6",sortable:!0,thClassName:"table-email-header",tdClassName:"table-email-container"},{name:"original_value",displayName:"Original Amount\n\u8d2d\u4e70\u91d1\u989d",sortable:!0,render:function(t){return v(t.value)}},{name:"created_at",displayName:"Date Purchased\n\u8d2d\u4e70\u65e5\u671f",sortable:!0,render:function(t){return y(t.value)}},{name:"updated_at",displayName:"Date Last Used\n\u4e0a\u6b21\u4f7f\u7528\u65e5\u671f",sortable:!0,render:function(t){return t.record.created_at===t.record.updated_at?"N/A":y(t.value)}},{name:"latest_value",displayName:"Ending Balance\n\u7ed3\u4f59",inputFilterable:!0,sortable:!0,render:function(t){return v(t.value)}}];return o.a.createElement(_,{data:n,fields:e,headerVisible:!1,initialSort:"seller_gift_card_id",namespace:"Vouchers",noFilteredRecordsMessage:"No vouchers found for filter",noRecordsMessage:"No vouchers in our system yet!",pageSize:20,pageSizes:null,recordCountName:"Voucher Found",recordCountNamePlural:"Vouchers Found",topPagerVisible:!1})},x=function(t){var n=t.fetchData,e=t.giftCards,r=t.organizationName,a=Object(i.useMemo)((function(){return[{subtitle:h()().format("YYYY-MM-DD, h:mm A"),title:"Last Updated \u4e0a\u6b21\u66f4\u65b0\u65f6\u95f4"},{subtitle:String(e.filter((function(t){return t.latest_value>0})).length),title:"# Active Vouchers  \u53ef\u4f7f\u7528\u7684\u793c\u54c1\u5238\u6570\u91cf"},{subtitle:v(e.reduce((function(t,n){return t+n.latest_value}),0)),title:"Total Balance  \u603b\u7ed3\u4f59"}]}),[e]);return o.a.createElement("div",null,o.a.createElement("div",{className:b.a.header},o.a.createElement("div",null,o.a.createElement("div",{className:b.a.headerTitle},"Voucher Tracker \u793c\u54c1\u5238\u8bb0\u5f55"),o.a.createElement("div",{className:b.a.headerSubtitle},r)),o.a.createElement("div",{className:b.a.actionButtons},o.a.createElement(f.a,{className:b.a.refreshButton,onClick:n,variant:"outlined"},o.a.createElement(p.a,null),o.a.createElement("div",{className:b.a.refreshText},"Refresh \u5237\u65b0")))),o.a.createElement("div",{className:b.a.stats},a.map((function(t){return o.a.createElement(w,Object.assign({key:t.title},t))}))),o.a.createElement("div",{className:b.a.tableContainer},o.a.createElement(g,{giftCards:e})))},O=e(137),j=e(37),k=e(111),E=function(){var t=Object(i.useState)(!1),n=Object(c.a)(t,2),e=n[0],r=n[1],f=Object(i.useState)(!1),l=Object(c.a)(f,2),p=l[0],d=l[1],h=Object(i.useState)(null),m=Object(c.a)(h,2),b=m[0],_=m[1],v=Object(i.useState)([]),y=Object(c.a)(v,2),w=y[0],g=y[1],E=Object(s.g)().location.pathname.match(/\/[^/]+/g).map((function(t){return t.replace("/","")})),N=E[0],B=E[2],S=Object(i.useCallback)(Object(u.a)(a.a.mark((function t(){var n,e;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(k.u)(N);case 3:return n=t.sent,t.next=6,Object(k.n)(N,B);case 6:e=t.sent,_(n.data),g(e.data),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),r(!0);case 14:return t.prev=14,d(!1),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[0,11,14,17]])}))),[N,B]);return Object(i.useEffect)((function(){d(!0),S()}),[S]),p?o.a.createElement(j.b,{isPage:!0}):e||!b?o.a.createElement(O.default,{menuOpen:!1}):o.a.createElement(x,{fetchData:S,giftCards:w,organizationName:b.name})}}}]);
//# sourceMappingURL=16.edacb1b4.chunk.js.map